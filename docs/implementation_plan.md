# Implementation Plan — Date Converter

## 1. Краткое описание задачи

Разработать консольное приложение на языке C++ для конвертации дат между различными форматами. Программа выполняет чтение JSON-файлов с датами в разных форматах, их нормализацию в ISO 8601 и обратную конвертацию в локальные форматы.

## 2. Цель и ожидаемый результат

**Цель:** Освоить работу с парсингом и преобразованием строковых данных в C++, обработку неоднозначностей форматов дат и измерение производительности алгоритмов конвертации.

**Ожидаемый результат:** Консольное приложение, которое:
- Принимает JSON-файлы с датами в различных форматах
- Нормализует даты в ISO 8601 формат
- Конвертирует даты в указанные локальные форматы (DD.MM.YYYY, MM/DD/YYYY)
- Выводит отчёт о валидных и ошибочных датах с указанием причин ошибок
- Измеряет время выполнения массовой конвертации

## 3. Этапы и задачи реализации

### 3.1 Анализ формата входных данных
Определение структуры JSON: массив объектов с полем "raw_date". Анализ различных форматов дат (ISO, DD.MM.YYYY, MM/DD/YYYY, текстовые представления).

### 3.2 Проектирование структуры программы
Разделение кода на модули: src (исходные файлы), include (заголовочные файлы), data (тестовые файлы), docs (документация). Определение функций: чтение JSON, парсинг дат, конвертация, валидация.

### 3.3 Реализация генерации и проверки файлов
Генерация JSON-файлов с датами в корректных форматах и с искусственными ошибками (неправильные форматы, пустые значения, некорректные даты).

### 3.4 Парсинг и преобразование данных
Реализация парсера для различных форматов дат. Использование алгоритмов распознавания формата и преобразования в единый ISO 8601 стандарт.

### 3.5 Валидация данных
Проверка корректности дат: високосные годы, допустимые диапазоны месяцев и дней, обработка неоднозначностей (например, 01.02.2023 vs 02/01/2023).

### 3.6 Алгоритмы конвертации
Реализация алгоритмов преобразования между форматами. Оптимизация массовой конвертации с минимальным количеством ветвлений.

### 3.7 Вывод результатов пользователю
Форматированный вывод двух таблиц: успешно конвертированные даты и ошибки с указанием причины. Поддержка флагов для выбора целевого формата (--to ru_long и другие).

### 3.8 Тестирование и исправление ошибок
Тестирование на различных наборах данных, включая граничные случаи (29 февраля високосных годов, переход через месяцы). Измерение производительности массовой конвертации.

### 3.9 Оформление и подготовка итоговой версии
Сборка исполняемого файла, подготовка документации, создание отчёта о производительности и узких местах в алгоритмах.

## 4. План-график выполнения

| Этап | Срок выполнения (в днях) |
|---|---|
| Анализ форматов дат | 1–3 |
| Проектирование структуры программы | 4–5 |
| Реализация генерации тестовых файлов | 6–8 |
| Парсинг и преобразование данных | 9–12 |
| Валидация и обработка ошибок | 13–15 |
| Алгоритмы конвертации | 16–18 |
| Вывод результатов и интерфейс | 19–20 |
| Тестирование и оптимизация | 21–25 |
| Оформление и финализация | 26–30 |

## 5. Ресурсы

- **Язык программирования:** C++ (стандарт C++17)
- **Среда разработки:** Microsoft Visual Studio
- **Библиотеки:** nlohmann/json для работы с JSON
- **Входные данные:** JSON-файлы с структурой [{"raw_date": "string (разные форматы)"}, ...]
- **Документация и материалы:**
  - Стандарт ISO 8601
  - Документация библиотеки nlohmann/json
  - Справочные материалы по работе с датами и временем в C++
